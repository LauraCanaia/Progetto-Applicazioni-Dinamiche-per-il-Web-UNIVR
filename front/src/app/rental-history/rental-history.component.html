<div *ngIf="!ishistory; else movie">

  <div *ngIf="loading">
    Loading ...
  </div>
  <div *ngIf="error">
    Error :(
  </div>
  <main>
    <div *ngIf = "history">
      <li *ngFor="let rental_event of history; index as i">
        <mat-card class="rental-card" aria-label="film'srent history description">
          <mat-card-header>
            <mat-card-title>Rental No. {{i+1}}</mat-card-title>
            <!-- <mat-card-subtitle>amount: {{rental_event.amount}}</mat-card-subtitle> -->
          </mat-card-header>
          <mat-card-content>
            <p> payment date : {{toDate(rental_event.payment_date)}} </p>
            <p> duration: {{getDuration(rental_event.rental.return_date-rental_event.rental.rental_date)}} </p>
            <p> amount: {{rental_event.amount}} </p>
          </mat-card-content>
          <mat-accordion>
            <mat-expansion-panel hideToggle>
              <mat-panel-description>
                <mat-card class = "layer-card" aria-label="detail about the film">
                  <mat-card-content>
                    <p>Film : {{rental_event.rental.inventory.film.title}}</p>

                  </mat-card-content>
                </mat-card>
              </mat-panel-description>
              <mat-expansion-panel-header>
                <div class = "book" aria-label="want to see details? press here"> DETAILS</div>
              </mat-expansion-panel-header>
            </mat-expansion-panel>
          </mat-accordion>
        </mat-card>
      </li>
    </div>
  </main>
</div>
<ng-template #movie>
  <p>...</p>
</ng-template>


