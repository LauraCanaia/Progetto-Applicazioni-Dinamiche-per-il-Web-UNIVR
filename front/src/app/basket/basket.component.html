<div *ngIf="loading">
  Loading ...
</div>
<div *ngIf="error">
  Error :(
</div>
<main>
  <!-- <div *ngIf = "basket"> -->
    <li *ngFor="let movie of basket; index as i">
      <mat-card class="film-card">
        <mat-card-header>
          <mat-card-title>Movie {{i+1}}: {{movie.title}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>rental_rate : {{movie.rental_rate}}</p>
          <p>rental_duration : {{movie.rental_duration}}</p>
          <p>rental start date: </p>
          <mat-form-field class="calendar">
              <input matInput [min]="minDate" [max]="maxDate" [(ngModel)]="selectedFilmMap.get(movie.film_id)!.date" [matDatepicker]="picker" placeholder="Choose a date">
              <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <button mat-raised-button (click)="picker.open()">Open</button>

          <p>store_availability : </p>

            <mat-radio-group aria-label="Choose store to rent from" [(ngModel)]="selectedFilmMap.get(movie.film_id)!.store_id">
              <mat-radio-button *ngFor="let store of movie.store_availability" [value]="store.store_id">{{store.address.address + ", " + store.address.district}}</mat-radio-button>
            </mat-radio-group>

        </mat-card-content>
        <mat-card-actions>
          <button mat-raised-button class = "Delete" (click)="onClickDelete(movie.film_id)">
            Delete {{movie.title}}
          </button>
        </mat-card-actions>
      </mat-card>
    </li>

    <mat-card-actions>
      <button mat-raised-button class = "Rent" (click)="onClickRent($event)">
        Rent
      </button>
    </mat-card-actions>
  <!-- </div> -->
</main>

<ng-template #movie>
<p>...
</p>
</ng-template>
